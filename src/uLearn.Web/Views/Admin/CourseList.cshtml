@model uLearn.Web.Controllers.CourseListViewModel

@{
	ViewBag.Title = "Курсы";
}
<div class="container">
	<h2>Курсы</h2>
	<ul>
		@foreach (var course in Model.Courses)
		{
			<li>@Html.ActionLink(course.Title, "Users", new { courseId = course.Id, onlyPrivileged = true })</li>
		}
	</ul>
	
	@if (User.IsSystemAdministrator())
	{
		<h2>Создать курс</h2>
		using (Html.BeginForm("CreateCourse", "Admin", FormMethod.Post, new { @class = "form-inline" }))
		{
			@Html.AntiForgeryToken()
			<input type="text" class="form-control" name="courseId" value="@Model.CourseCreationLastTry" placeholder="CourseId"/>
			<input type="submit" class="btn btn-danger" value="Создать" />
			<p>CourseId используется как часть URL, имя файла, часть путей. Лучше использовать только латинские буквы и цифры.</p>
		}
		if (!string.IsNullOrEmpty(Model.CourseCreationLastTry))
		{
			<div style="margin: 10px">В идентификаторе курса недопустимы символы: <pre style="display: inline-block">@Model.InvalidCharacters</pre></div>
		}
	}
</div>